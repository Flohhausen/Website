<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<style>
body{font-family:Arial;margin:0;background:#f4f6f8;display:flex;justify-content:center;align-items:center;height:100vh;}
.login-box{background:white;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
input{width:100%;padding:10px;margin:10px 0;border-radius:5px;border:1px solid #ccc;}
button{width:100%;padding:10px;border:none;border-radius:5px;background:#1E88E5;color:white;font-weight:bold;cursor:pointer;margin-bottom:5px;}
button:hover{background:#1565C0;}
</style>
</head>
<body>
<div class="login-box">
<h2>Login</h2>
<input type="text" id="username" placeholder="Benutzername">
<input type="password" id="password" placeholder="Passwort">
<button onclick="login()">Login</button>
<button onclick="register()">Registrieren</button>
</div>
<script>
// Users initialisieren
if(!localStorage.getItem("users")){
    localStorage.setItem("users", JSON.stringify([
        {username:"admin",password:"admin123",role:"admin",coins:1000,level:10,avatar:"ðŸ‘‘",friends:[]},
        {username:"user1",password:"pass1",role:"user",coins:100,level:1,avatar:"ðŸ˜€",friends:[]}
    ]));
}

function login(){
    const u=document.getElementById("username").value.trim();
    const p=document.getElementById("password").value;
    const users=JSON.parse(localStorage.getItem("users"));
    const user=users.find(x=>x.username===u && x.password===p);
    if(user){
        localStorage.setItem("user",user.username);
        localStorage.setItem("role",user.role);
        window.location.href="home.html";
    } else { alert("Falscher Benutzername oder Passwort!"); }
}

function register(){
    const u=document.getElementById("username").value.trim();
    const p=document.getElementById("password").value;
    if(!u || !p){ alert("Bitte Benutzername und Passwort eingeben"); return; }
    let users=JSON.parse(localStorage.getItem("users"));
    if(users.find(x=>x.username===u)){ alert("Benutzer existiert bereits"); return; }
    users.push({username:u,password:p,role:"user",coins:50,level:1,avatar:"ðŸ˜€",friends:[]});
    localStorage.setItem("users",JSON.stringify(users));
    alert("Registrierung erfolgreich! Du kannst dich jetzt einloggen.");
}
</script>
</body>
</html>
